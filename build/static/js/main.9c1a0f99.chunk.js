(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],Array(37).concat([function(e,t,a){e.exports=a(76)},,,,,function(e,t,a){},,,,,function(e,t,a){},function(e,t,a){},,,function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){e.exports=a.p+"static/media/baali-logo.e2d2e4ef.jpg"},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(21),s=a.n(c),l=(a(42),a(5)),o=a(16),i=a(36),u=function(e){var t=e.component,a=Object(i.a)(e,["component"]);return r.a.createElement(o.b,Object.assign({},a,{render:function(e){var a=window.localStorage.getItem("auth");if(a){var n=JSON.parse(a);return n.hasOwnProperty("token")&&""!==n.token?r.a.createElement(t,e):r.a.createElement(o.a,{to:"/login"})}return r.a.createElement(o.a,{to:"/login"})}}))},m=a(1),d=a(2),p=a(4),h=a(3),f=(a(47),a(48),a(24)),E=a(8),g=a.n(E),v=a(11),y="http://localhost:2019",b=a(7),N=(a(51),Object(o.g)((function(e){var t="/"===e.match.url?"/products/all":e.match.url;return r.a.createElement(l.b,{to:"".concat(t,"/").concat(e.slug)},r.a.createElement("div",{className:"Product"},r.a.createElement("div",{className:"ProductImage"},r.a.createElement("img",{alt:"",src:e.productPic[0].img})),r.a.createElement("div",{className:"ProductDetails"},r.a.createElement("p",null,e.name),r.a.createElement("p",null,"$",e.price))))}))),O=function(e){Object(p.a)(a,e);var t=Object(h.a)(a);function a(){var e;Object(m.a)(this,a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).state={slug:"Products"},e.getProducts=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;e.props.getProducts(t,a).then((function(e){console.log(e)}))},e.applyFilter=function(t){var a="all"==e.props.match.params.slug?"":e.props.match.params.slug;e.getProducts(a,t)},e}return Object(d.a)(a,[{key:"componentDidMount",value:function(){var e="all"==this.props.match.params.slug?"":this.props.match.params.slug;this.getProducts(e),this.props.getCategories()}},{key:"componentDidUpdate",value:function(e){this.props.match.params.slug!=e.match.params.slug&&this.getProducts(this.props.match.params.slug)}},{key:"categoryTree",value:function(e){var t,a=[],n=Object(f.a)(e);try{for(n.s();!(t=n.n()).done;){var c=t.value;a.push(r.a.createElement("li",{key:c.slug},r.a.createElement(l.b,{to:"/products/".concat(c.slug)},c.name),c.children.length>0?r.a.createElement("ul",null,this.categoryTree(c.children)):null))}}catch(s){n.e(s)}finally{n.f()}return a}},{key:"render",value:function(){Object.keys(this.props.match.params).length>0?this.props.match.params.slug:this.state.slug;return r.a.createElement("div",{className:"Content"},r.a.createElement("div",{className:"MainContent"},r.a.createElement("div",{className:"ProductArea"},this.props.products.products.map((function(e){return r.a.createElement(N,{key:e._id,id:e._id,name:e.name,price:e.price,productPic:e.productPic,slug:e.slug})})))))}}]),a}(n.Component),C=Object(b.b)((function(e){return{products:e.products}}),(function(e){return{getProducts:function(t,a){return e(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0;return function(){var a=Object(v.a)(g.a.mark((function a(n){var r,c,s,l;return g.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(a.prev=0,e="all"==e?"":e,r="",t){for(c in r="?filter=1&",t)r+="".concat(c,"=").concat(t[c],"&");r=r.substring(0,r.length-1)}return a.next=6,fetch("".concat(y,"/products/").concat(e).concat(r));case 6:return s=a.sent,a.next=9,s.json();case 9:return l=a.sent,200==s.status&&n({type:"GET_PRODUCTS",products:l.message}),a.abrupt("return",l);case 14:a.prev=14,a.t0=a.catch(0),console.log(a.t0);case 17:case"end":return a.stop()}}),a,null,[[0,14]])})));return function(e){return a.apply(this,arguments)}}()}(t,a))},getCategories:function(){return e((function(e){fetch("".concat(y,"/category"),{headers:{"Content-Type":"application/json"}}).then((function(e){return e.json()})).then((function(t){e({type:"GET_PRODUCT_CATEGORIES",categories:t.message})})).catch((function(e){console.log(e)}))}))}}}))(O),w=(a(52),function(){return function(e){var t=window.localStorage.getItem("auth");if(t){var a=JSON.parse(t);if(a.hasOwnProperty("token")&&""!=a.token)return e({type:"AUTHENTICATE_USER",auth:a}),Promise.resolve(!0)}return Promise.resolve(!1)}}),j=(a(53),function(e){Object(p.a)(a,e);var t=Object(h.a)(a);function a(){return Object(m.a)(this,a),t.apply(this,arguments)}return Object(d.a)(a,[{key:"componentDidMount",value:function(){this.props.getToken()}},{key:"render",value:function(){var e=this,t=r.a.createElement("ul",{className:"Dropdown Account"},r.a.createElement("li",null,r.a.createElement(l.b,{to:"/signup"},r.a.createElement("i",{className:"fas fa-user"}),"\xa0\xa0",r.a.createElement("span",null,"Register"))),r.a.createElement("li",null,r.a.createElement(l.b,{to:"/login"},r.a.createElement("i",{className:"fas fa-user"}),"\xa0\xa0",r.a.createElement("span",null,"Login"))));return this.props.auth.isAuthenticated&&(t=r.a.createElement("ul",{className:"Dropdown Account"},r.a.createElement("li",null,r.a.createElement(l.b,{to:"/orders"},r.a.createElement("i",{className:"far fa-clipboard"}),"\xa0\xa0",r.a.createElement("span",null,"Orders"))),r.a.createElement("li",null,r.a.createElement(l.b,{to:"",onClick:function(){return e.props.logout()}},r.a.createElement("i",{className:"fas fa-sign-out-alt"}),"\xa0\xa0",r.a.createElement("span",null,"Logout"))))),r.a.createElement("div",{className:"TopHeader"},r.a.createElement("div",null,r.a.createElement("ul",{className:"TopMenu"},r.a.createElement("li",{className:"MenuItem"},r.a.createElement("i",{className:"far fa-user-circle"}),r.a.createElement(l.b,{to:"/account"},this.props.auth.isAuthenticated?this.props.auth.user.firstName:"My Account"),t))))}}]),a}(n.Component)),k=Object(b.b)((function(e){return{auth:e.auth}}),(function(e){return{getToken:function(){return e(w())}}}))(j),T=(a(54),a(55),function(e){return r.a.createElement(l.b,{to:"/"},r.a.createElement("div",Object.assign({className:"Logo"},e),r.a.createElement("span",null,r.a.createElement("img",{src:a(56),width:"130px",height:"50px"}))))}),A=Object(b.b)((function(e){return{auth:e.auth,cart:e.cart}}),(function(e){return{getToken:function(){return e(w())}}}))((function(e){return r.a.createElement("div",{className:"MainHeader"},r.a.createElement(T,null),r.a.createElement("div",null,r.a.createElement(l.b,{to:"/cart"},r.a.createElement("i",{className:"fas fa-shopping-cart"}),"(",e.cartCount,")")))})),x=(a(57),function(e){Object(p.a)(a,e);var t=Object(h.a)(a);function a(){var e;Object(m.a)(this,a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).state={categories:[],categoriesAr:[]},e}return Object(d.a)(a,[{key:"componentDidMount",value:function(){var e=this;fetch("".concat(y,"/category"),{headers:{"Content-Type":"application/json"}}).then((function(e){return e.json()})).then((function(t){console.log(t),e.setState({categories:t.message})}))}},{key:"categoryTree",value:function(e){var t,a=[],n=Object(f.a)(e);try{for(n.s();!(t=n.n()).done;){var c=t.value;a.push(r.a.createElement("li",{key:c.slug,className:"Column"},r.a.createElement(l.c,{to:"/products/".concat(c.slug)},c.name),c.children.length>0?r.a.createElement("ul",null,this.categoryTree(c.children)):null))}}catch(s){n.e(s)}finally{n.f()}return a}},{key:"render",value:function(){var e=this.categoryTree(this.state.categories);return r.a.createElement("div",{className:"BottomHeader"},r.a.createElement("ul",{className:"Menu"},r.a.createElement("li",{className:"MenuItem"},r.a.createElement(l.b,{to:"/"})),r.a.createElement("li",{className:"MenuItem"},r.a.createElement(l.b,{to:"/products/all",className:"MenuItemElement"}),e)))}}]),a}(n.Component)),I=function(e,t){return function(){var a=Object(v.a)(g.a.mark((function a(n){var r,c;return g.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,fetch("".concat(y,"/cart/user/").concat(t),{headers:{"Content-Type":"application/json","auth-token":e},method:"POST"});case 3:return r=a.sent,a.next=6,r.json();case 6:return c=a.sent,200===r.status&&n({type:"GET_CART_DETAILS",cartItems:c.message[0]}),a.abrupt("return",c.message[0]);case 11:a.prev=11,a.t0=a.catch(0),console.log(a.t0);case 14:case"end":return a.stop()}}),a,null,[[0,11]])})));return function(e){return a.apply(this,arguments)}}()},P=function(e){Object(p.a)(a,e);var t=Object(h.a)(a);function a(){var e;Object(m.a)(this,a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).logout=function(){e.props.logout()},e}return Object(d.a)(a,[{key:"componentDidMount",value:function(){var e=this;this.props.auth.isAuthenticated||this.props.getToken().then((function(t){t&&e.props.getCartItems(e.props.auth.token,e.props.auth.user.userId)})).catch((function(e){console.log(e)}))}},{key:"render",value:function(){var e=this.props.auth.isAuthenticated,t=this.props.cart,a=e?t.cartCount:"";return r.a.createElement("header",{className:"Header"},r.a.createElement(k,{logout:this.logout}),r.a.createElement(A,{cartCount:a}),r.a.createElement(x,null))}}]),a}(n.Component),S=Object(b.b)((function(e){return{auth:e.auth,cart:e.cart}}),(function(e){return{getToken:function(){return e(w())},getCartItems:function(t,a){return e(I(t,a))},logout:function(){return e((function(e){return window.localStorage.getItem("auth")?(window.localStorage.clear(),e({type:"LOGOUT_USER",payload:""}),Promise.resolve(!0)):Promise.resolve(!1)}))}}}))(P),D=function(e){Object(p.a)(a,e);var t=Object(h.a)(a);function a(){var e;Object(m.a)(this,a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).state={categoryTitle:"Products"},e}return Object(d.a)(a,[{key:"render",value:function(){return console.log("Parents"),console.log(this.props),r.a.createElement(r.a.Fragment,null,r.a.createElement(S,null),r.a.createElement(o.d,null,r.a.createElement(o.b,{path:"/",exact:!0,component:C}),r.a.createElement(o.b,{path:"/products",exact:!0,component:C}),r.a.createElement(o.b,{path:"/products/:slug",component:C})))}}]),a}(n.Component),H=Object(b.b)(null,null)(D),R=function(e){Object(p.a)(a,e);var t=Object(h.a)(a);function a(){return Object(m.a)(this,a),t.apply(this,arguments)}return Object(d.a)(a,[{key:"render",value:function(){return r.a.createElement(H,null)}}]),a}(n.Component),_=a(13),q=(a(58),a(59),function(e){return r.a.createElement("div",{className:"InputGroup"},r.a.createElement("input",{type:e.type,placeholder:e.placeholder,value:e.value,onChange:e.textHandler,name:e.name}))}),M=(a(60),function(e){return r.a.createElement("button",Object.assign({className:"SubmitGradientButton",onClick:e.clicked},e),e.label)}),L=(a(61),function(e){return r.a.createElement("div",{className:"Error"},e.children)}),F=function(e){Object(p.a)(a,e);var t=Object(h.a)(a);function a(){var e;Object(m.a)(this,a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).state={redirectToReferrer:!1,email:"",password:"",isError:!1,errorMessage:""},e.textHandler=function(t){e.setState(Object(_.a)({},t.target.name,t.target.value))},e.setError=function(t,a){e.setState({error:t,errorMessage:a})},e.loginHandler=function(t){(t.preventDefault(),""!==e.state.email)?new RegExp(/[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?/).test(e.state.email)?""!==e.state.password?e.props.authenticate(e.state.email,e.state.password).then((function(t){console.log(t),t.hasOwnProperty("token")&&(window.localStorage.setItem("auth",JSON.stringify(t)),e.setState({redirectToReferrer:!0}))})).catch((function(e){console.log(e)})):e.setError(!0,"Enter Password"):e.setError(!0,"Invalid Email Address"):e.setError(!0,"Enter Email")},e}return Object(d.a)(a,[{key:"componentDidMount",value:function(){var e=this;this.props.auth.isAuthenticated||this.props.getToken().then((function(t){t&&e.setState({redirectToReferrer:!0})})).catch((function(e){console.log(e)}))}},{key:"render",value:function(){return this.state.redirectToReferrer?r.a.createElement(o.a,{to:"/"}):r.a.createElement("div",{className:"LoginContainer"},r.a.createElement("div",{className:"WelcomeText"},r.a.createElement("h3",null,"Login")),r.a.createElement(T,{style:{margin:"0 auto"}}),r.a.createElement("div",{className:"LoginWrapper"},r.a.createElement("p",null),r.a.createElement("form",{onSubmit:this.loginHandler,autoComplete:"off"},r.a.createElement(q,{type:"text",placeholder:"Email",value:this.state.email,textHandler:this.textHandler,name:"email"}),r.a.createElement(q,{type:"password",placeholder:"Password",value:this.state.password,textHandler:this.textHandler,name:"password"}),r.a.createElement(L,null,this.state.errorMessage),r.a.createElement(M,{label:"Login",style:{marginTop:"30px"}}))),r.a.createElement("div",{style:{display:"flex",justifyContent:"space-between"}},r.a.createElement(l.b,{to:"/signup"},"Create a new account")))}}]),a}(n.Component),Q=Object(b.b)((function(e){return{auth:e.auth}}),(function(e){return{authenticate:function(t,a){return e(function(e,t){return function(){var a=Object(v.a)(g.a.mark((function a(n){var r,c;return g.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,fetch("".concat(y,"/user/login"),{headers:{"Content-Type":"application/json",Accepts:"application/json"},method:"POST",body:JSON.stringify({email:e,password:t})});case 2:return r=a.sent,a.next=5,r.json();case 5:return c=a.sent,200===r.status&&(window.localStorage.setItem("auth",JSON.stringify(r.message)),n({type:"AUTHENTICATE_USER",auth:c.message})),a.abrupt("return",c.message);case 8:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}()}(t,a))},getToken:function(){return e(w())}}}))(F),U=a(9),W=(a(62),function(e){Object(p.a)(a,e);var t=Object(h.a)(a);function a(){var e;Object(m.a)(this,a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).state={redirectToreferrer:!1,signupForm:{firstName:"",lastName:"",email:"",password:"",repassword:"",isError:!1,errorMessage:""}},e.textHandler=function(t){var a=e.state.signupForm,n=Object(U.a)({},a,Object(_.a)({},t.target.name,t.target.value));e.setState({signupForm:n})},e.setError=function(t,a){var n=e.state.signupForm,r=Object(U.a)({},n,{isError:t,errorMessage:a});e.setState({signupForm:r})},e.signupHandler=function(t){t.preventDefault();var a=e.state.signupForm;if(""!==a.firstName)if(""!==a.lastName)if(new RegExp(/[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?/).test(a.email))if(""!==a.email)if(""!==a.password)if(""!==a.repassword)if(a.password===a.repassword){var n={firstName:a.firstName,lastName:a.lastName,email:a.email,password:a.password};e.props.signup(n).then((function(t){console.log(t),e.props.history.push({pathname:"/login",search:"?signup=success",state:t.message})})).catch((function(e){console.log(e)}))}else e.setError(!0,"Password dosent match");else e.setError(!0,"Enter Repassword");else e.setError(!0,"Enter Password");else e.setError(!0,"Enter Email");else e.setError(!0,"Invalid Email Address");else e.setError(!0,"Enter Last Name");else e.setError(!0,"Enter First Name")},e}return Object(d.a)(a,[{key:"componentDidMount",value:function(){var e=this;this.props.auth.isAuthenticated||this.props.getToken().then((function(t){t&&e.setState({redirectToreferrer:!0})})).catch((function(e){console.log(e)}))}},{key:"render",value:function(){var e=this.state,t=e.signupForm;return e.redirectToreferrer?r.a.createElement(o.a,{to:"/"}):r.a.createElement("div",{className:"LoginContainer"},r.a.createElement("div",{className:"WelcomeText"},r.a.createElement("h3",null,"Signup")),r.a.createElement(T,{style:{margin:"0 auto"}}),r.a.createElement("div",{className:"LoginWrapper"},r.a.createElement("form",{onSubmit:this.signupHandler,autoComplete:"off"},r.a.createElement("div",{style:{display:"flex",justifyContent:"space-between"}},r.a.createElement("div",{style:{width:"49%"}},r.a.createElement(q,{type:"text",placeholder:"First Name",value:t.firstName,textHandler:this.textHandler,name:"firstName"})),r.a.createElement("div",{style:{width:"49%"}},r.a.createElement(q,{type:"text",placeholder:"Last Name",value:t.lastName,textHandler:this.textHandler,name:"lastName"}))),r.a.createElement(q,{type:"text",placeholder:"Email",value:t.email,textHandler:this.textHandler,name:"email"}),r.a.createElement(q,{type:"password",placeholder:"Password",value:t.password,textHandler:this.textHandler,name:"password"}),r.a.createElement(q,{type:"password",placeholder:"Re-enter Password",value:t.repassword,textHandler:this.textHandler,name:"repassword"}),r.a.createElement(L,null,this.state.signupForm.errorMessage),r.a.createElement(M,{label:"Signup",style:{marginTop:"30px"}}))),r.a.createElement("div",{style:{display:"flex",justifyContent:"space-between"}},r.a.createElement(l.b,{to:"/login"},"Login")))}}]),a}(n.Component)),z=Object(b.b)((function(e){return{auth:e.auth}}),(function(e){return{signup:function(t){return e(function(e){return function(){var t=Object(v.a)(g.a.mark((function t(a){var n,r;return g.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,fetch("".concat(y,"/user/signup"),{headers:{"Content-Type":"application/json",Accepts:"application/json"},method:"POST",body:JSON.stringify({firstName:e.firstName,lastName:e.lastName,email:e.email,password:e.password})});case 3:return n=t.sent,t.next=6,n.json();case 6:return r=t.sent,t.abrupt("return",r);case 10:t.prev=10,t.t0=t.catch(0),console.log(t.t0);case 13:case"end":return t.stop()}}),t,null,[[0,10]])})));return function(e){return t.apply(this,arguments)}}()}(t))},getToken:function(){return e(w())}}}))(W),B=a(23),$=(a(63),n.Component,a(64),function(e){Object(p.a)(a,e);var t=Object(h.a)(a);function a(){return Object(m.a)(this,a),t.apply(this,arguments)}return Object(d.a)(a,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("h2",null,"ControlPanel"))}}]),a}(n.Component)),G=a(18),J=a(34),K={isAuthenticated:!1,user:{},token:""},V=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:K,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"AUTHENTICATE_USER":e=Object(U.a)({},e,{isAuthenticated:!0,user:t.auth.user,token:t.auth.token});break;case"LOGOUT_USER":e={isAuthenticated:!1,user:{},token:""};break;default:return e}return e},X={products:[],categories:[]},Y=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:X,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GET_PRODUCTS":e=Object(U.a)({},e,{products:t.products});break;case"GET_PRODUCT_CATEGORIES":e=Object(U.a)({},e,{categories:t.categories})}return e},Z=(a(65),function(e){Object(p.a)(a,e);var t=Object(h.a)(a);function a(){var e;Object(m.a)(this,a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).state={product:null,redirectToReferrer:!1},e.addToCart=function(t,a,n,r){if(e.props.auth.isAuthenticated)e.props.history.push("/cart");else{e.props.history.push("/login");var c=e.props.auth,s={user:c.user.userId,product:t,name:n,image:r,quantity:1,price:a};e.props.addToCart(c.token,s).then((function(t){console.log(e.props.cart)})).catch((function(e){console.log(e)}))}},e}return Object(d.a)(a,[{key:"componentDidMount",value:function(){var e=this;this.props.auth.isAuthenticated||this.props.getToken().then((function(t){t&&e.props.getCartItems(e.props.auth.token,e.props.auth.user.userId).then((function(e){console.log(e)})).catch((function(e){console.log(e)}))})).catch((function(e){console.log(e)}));var t=this.props.match.params,a=t.category,n=t.slug;fetch("".concat(y,"/products/").concat(a,"/").concat(n)).then((function(e){return e.json()})).then((function(t){t.hasOwnProperty("message")&&(console.log(t),e.setState({product:t.message}))})).catch((function(e){console.log(e)}))}},{key:"render",value:function(){var e,t=this,a=this.state.product;return e=this.state.product?r.a.createElement("div",{className:"Content"},r.a.createElement("div",{className:"ProductDetailsWrapper"},r.a.createElement("div",{className:"ProductDetailsImage"},r.a.createElement("div",{className:"ProductDetailsImageWrapper"},r.a.createElement("img",{src:a.productPic[0].img,alt:""})),r.a.createElement("div",{className:"ActionButtonWrapper"},r.a.createElement("button",{onClick:function(){t.addToCart(a._id,a.price,a.name,a.productPic[0].img)}},r.a.createElement("i",{className:"fas fa-shopping-cart"}),"\xa0ADD TO CART"))),r.a.createElement("div",{className:"ProductDetails"},r.a.createElement("p",{className:"ProductTitle"},a.name),r.a.createElement("p",{className:"ProductPrice"},"$",a.price),r.a.createElement("div",{className:"ProductDescription"},r.a.createElement("h3",null,"Product Description"),r.a.createElement("p",null,a.description)))),r.a.createElement("div",{className:"SimilarProducts"},r.a.createElement("h3",null,"Similar Products"),r.a.createElement("div",{className:"SimilarProductsWrapper"},r.a.createElement("div",{className:"SimilarProduct"},r.a.createElement("div",{className:"SimilarProductImage"},r.a.createElement("img",{src:"https://rukminim1.flixcart.com/image/800/960/jp780i80/t-shirt/u/8/t/s-tnvhdfulabstract1-tripr-original-imafbdarnwhfh7uu.jpeg?q=50",alt:""})),r.a.createElement("div",{className:"SimilarProductDetails"},r.a.createElement("h5",null,"Product Name"),r.a.createElement("p",null,"500 PKR"))),r.a.createElement("div",{className:"SimilarProduct"},r.a.createElement("div",{className:"SimilarProductImage"},r.a.createElement("img",{src:"https://rukminim1.flixcart.com/image/800/960/jyhl1u80/shirt/5/x/d/xl-909-lawful-casual-original-imafg864rydp6ar4.jpeg?q=50",alt:""})),r.a.createElement("div",{className:"SimilarProductDetails"},r.a.createElement("h5",null,"Product Name"),r.a.createElement("p",null,"500 PKR"))),r.a.createElement("div",{className:"SimilarProduct"},r.a.createElement("div",{className:"SimilarProductImage"},r.a.createElement("img",{src:"https://rukminim1.flixcart.com/image/495/594/jxgflow0/t-shirt/y/h/g/xxl-tnvgyvnful-d22-tripr-original-imafhuq2s3yxbx2t.jpeg?q=50",alt:""})),r.a.createElement("div",{className:"SimilarProductDetails"},r.a.createElement("h5",null,"Product Name"),r.a.createElement("p",null,"500 PKR")))))):r.a.createElement("div",null,"Product is loading...!"),r.a.createElement("div",null,r.a.createElement(S,null),e)}}]),a}(n.Component)),ee=Object(b.b)((function(e){return{auth:e.auth,cart:e.cart}}),(function(e){return{addToCart:function(t,a){return e(function(e,t){return function(){var a=Object(v.a)(g.a.mark((function a(n){var r,c;return g.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,fetch("".concat(y,"/cart/add"),{headers:{"Content-Type":"application/json","auth-token":e},body:JSON.stringify(t),method:"POST"});case 3:return r=a.sent,a.next=6,r.json();case 6:return c=a.sent,201===r.status&&n({type:"ADD_TO_CART",cartItem:t}),a.abrupt("return",c);case 11:a.prev=11,a.t0=a.catch(0),console.log(a.t0);case 14:case"end":return a.stop()}}),a,null,[[0,11]])})));return function(e){return a.apply(this,arguments)}}()}(t,a))},getCartItems:function(t,a){return e(I(t,a))},getToken:function(){return e(w())}}}))(Z),te=(n.Component,a(66),a(67),function(e){return r.a.createElement("div",{className:"QunantityControl"},r.a.createElement("button",{onClick:function(t){return e.decreaseQuantity(t,e.productId)}},"-"),r.a.createElement("input",{type:"text",onChange:function(t){return e.changeQuantity(t,e.productId)},name:e.name,value:e.quantity}),r.a.createElement("button",{onClick:function(t){return e.increaseQuantity(t,e.productId)}},"+"))}),ae=(a(68),function(e){return r.a.createElement("div",{className:"SingleItem"},r.a.createElement("div",{className:"ItemWrapper"},r.a.createElement("div",{className:"ItemImage",style:{width:"80px",height:"80px",overflow:"hidden",position:"relative"}},r.a.createElement("img",{style:{maxWidth:"100%",maxHeight:"100%",position:"absolute",left:"50%",transform:"translateX(-50%)"},src:e.image,alt:""})),r.a.createElement("div",{className:"ItemDetails"},r.a.createElement("p",{className:"ItemName"},e.name),r.a.createElement("p",{className:"ItemPrice"},"$",e.total))),r.a.createElement("div",{className:"CartActionButtons"},r.a.createElement(te,{productId:e.productId,name:e.name,quantity:e.quantity,changeQuantity:e.changeQuantity,increaseQuantity:e.increaseQuantity,decreaseQuantity:e.decreaseQuantity}),r.a.createElement("a",{href:"#"},"REMOVE")))}),ne=(a(69),Object(b.b)((function(e){return{cart:e.cart}}),null)((function(e){return r.a.createElement("div",{className:"PriceWrapper"},r.a.createElement("div",{className:"CardTitle"},r.a.createElement("h3",null,"PRICE DETAILS")),r.a.createElement("div",{className:"CardBody"},r.a.createElement("div",{className:"FinalBilling"},r.a.createElement("div",{className:"Row"},r.a.createElement("p",null,"Price (",e.cart.cartCount,")"),r.a.createElement("p",null,"$",e.cart.totalAmount)),r.a.createElement("div",{className:"Row"},r.a.createElement("p",null,"Delivery"),r.a.createElement("p",null,"$0")),r.a.createElement("hr",null),r.a.createElement("div",{className:"Row"},r.a.createElement("h4",null,"Total Payable"),r.a.createElement("h4",null,"$",e.cart.totalAmount)))))}))),re=function(e){Object(p.a)(a,e);var t=Object(h.a)(a);function a(){var e;Object(m.a)(this,a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).state={cartItems:[]},e.decreaseQuantity=function(t,a){e.updateCart(a,-1)},e.increaseQuantity=function(t,a){e.updateCart(a,1)},e.updateCart=function(){var t=Object(v.a)(g.a.mark((function t(a,n){var r,c,s;return g.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,r=e.props.auth,!((c={productId:(c=e.state.cartItems.find((function(e){return e.product===a}))).product,quantity:parseInt(c.quantity)+parseInt(n),newQuantity:n,price:c.price,total:parseFloat(c.total)+parseFloat(c.price*n)}).quantity<=0)){t.next=6;break}return t.abrupt("return");case 6:return t.next=8,e.props.updateCart(r.token,r.user.userId,c);case 8:1==t.sent.ok&&(s=e.state.cartItems,e.setState({cartItems:s.map((function(e){return e.product===a?Object(U.a)({},e,{quantity:e.quantity+n,total:e.total+e.price*n}):e}))})),t.next=15;break;case 12:t.prev=12,t.t0=t.catch(0),console.log(t.t0);case 15:case"end":return t.stop()}}),t,null,[[0,12]])})));return function(e,a){return t.apply(this,arguments)}}(),e.changeQuantity=function(t,a){(console.log(t.target.value),isNaN(t.target.value))||0!==parseInt(t.target.value.split("")[0])&&e.updateCart(a,parseInt(t.target.value))},e}return Object(d.a)(a,[{key:"componentDidMount",value:function(){var e=this;this.props.auth.isAuthenticated?this.setState({cartItems:this.props.cart.cartItem}):this.props.getToken().then((function(t){return t?e.props.getCartItems(e.props.auth.token,e.props.auth.user.userId):[]})).then((function(t){t.cart.length>0&&(console.log(e.props.cart),e.setState({cartItems:e.props.cart.cartItem}))})).catch((function(e){console.log(e)}))}},{key:"render",value:function(){var e=this;return r.a.createElement(r.a.Fragment,null,r.a.createElement(S,null),r.a.createElement("div",{className:"Content"},r.a.createElement("div",{className:"CartWrapper"},r.a.createElement("div",{className:"CartDetails"},r.a.createElement("div",{className:"CardTitle"},r.a.createElement("h3",null,"My Cart")),r.a.createElement("div",{className:"CardBody"},this.state.cartItems.map((function(t){return r.a.createElement(ae,{key:t.product,productId:t.product,name:t.name,image:t.image,price:t.price,quantity:t.quantity,total:t.total,changeQuantity:e.changeQuantity,increaseQuantity:e.increaseQuantity,decreaseQuantity:e.decreaseQuantity})})),r.a.createElement("div",{className:"PlaceOrder"},r.a.createElement("button",{className:"PlaceOrderButton",onClick:function(){return e.props.history.push("/place-order")}},"Place Order")))),r.a.createElement(ne,null))))}}]),a}(n.Component),ce=Object(b.b)((function(e){return{auth:e.auth,cart:e.cart}}),(function(e){return{getCartItems:function(t,a){return e(I(t,a))},updateCart:function(t,a,n){return e(function(e,t,a){return function(){var n=Object(v.a)(g.a.mark((function n(r){var c,s;return g.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,fetch("".concat(y,"/cart/update/quantity"),{headers:{"Content-Type":"application/json","auth-token":e},method:"PUT",body:JSON.stringify({userId:t,productId:a.productId,quantity:a.quantity,total:a.total})});case 3:return c=n.sent,n.next=6,c.json();case 6:return s=n.sent,201===c.status&&r({type:"UPDATE_CART",item:a}),n.abrupt("return",s.message);case 11:n.prev=11,n.t0=n.catch(0),console.log(n.t0);case 14:case"end":return n.stop()}}),n,null,[[0,11]])})));return function(e){return n.apply(this,arguments)}}()}(t,a,n))},getToken:function(){return e(w())}}}))(re),se=a(35),le={cartItem:[],totalAmount:0,cartCount:0},oe=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:le,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD_TO_CART":var a=e.cartItem,n=e.cartItem.filter((function(e){return e.product===t.cartItem.product}));e={cartItem:0===n.length?[].concat(Object(se.a)(a),[{product:t.cartItem.product,name:t.cartItem.name,image:t.cartItem.image,price:t.cartItem.price,quantity:t.cartItem.quantity,total:t.cartItem.quantity*t.cartItem.price}]):a.map((function(e){return e.product===t.cartItem.product?Object(U.a)({},e,{quantity:e.quantity+t.cartItem.quantity,total:e.total+t.cartItem.price}):e})),totalAmount:e.totalAmount+t.cartItem.price,cartCount:e.cartCount+1};break;case"GET_CART_DETAILS":var r=t.cartItems.cart,c=0,s=0,l=r.map((function(e){return c+=e.total,s+=e.quantity,{product:e.product._id,name:e.product.name,image:e.product.productPic[0].img,price:e.price,quantity:e.quantity,total:e.total}}));e={cartItem:l,totalAmount:c,cartCount:s};break;case"UPDATE_CART":var o=t.item,i=e.cartItem.map((function(e){return e.product===o.productId?Object(U.a)({},e,{quantity:o.quantity,total:o.total}):e}));e={cartItem:i,totalAmount:parseFloat(e.totalAmount)+parseFloat(o.price*o.newQuantity),cartCount:parseInt(e.cartCount)+parseInt(o.newQuantity)};break;case"CLEAR_CART":e={cartItem:[],totalAmount:0,cartCount:0}}return e},ie=(a(70),a(71),function(e){var t;switch(e.type){case"text":t=r.a.createElement("input",{type:e.type,name:e.name,className:"NormalInput",placeholder:e.placeholder,value:e.value,onChange:e.inputHandler});break;case"textarea":t=r.a.createElement("textarea",{type:e.type,name:e.name,className:"NormalInput",placeholder:e.placeholder,value:e.value,onChange:e.inputHandler});break;case"select":t=r.a.createElement("select",null,r.a.createElement("option",null,"---Select---"))}return t}),ue=function(e){var t=e.address;return r.a.createElement("form",{onSubmit:e.addressSubmitHandler},r.a.createElement("div",{className:"Row"},r.a.createElement("div",{style:{width:"49%"}},r.a.createElement(ie,{name:"fullName",value:t.fullName,placeholder:"Full Name",inputHandler:e.inputHandler,type:"text"})),r.a.createElement("div",{style:{width:"49%"}},r.a.createElement(ie,{name:"mobileNumber",value:t.mobileNumber,placeholder:"10-digit Mobile Number",inputHandler:e.inputHandler,type:"text"}))),r.a.createElement("div",{className:"Row"},r.a.createElement("div",{style:{width:"49%"}},r.a.createElement(ie,{name:"pinCode",value:t.pinCode,placeholder:"Pincode",inputHandler:e.inputHandler,type:"text"})),r.a.createElement("div",{style:{width:"49%"}},r.a.createElement(ie,{name:"locality",value:t.locality,placeholder:"Locality",inputHandler:e.inputHandler,type:"text"}))),r.a.createElement("div",{className:"Row"},r.a.createElement(ie,{name:"address",value:t.address,placeholder:"Address (Area and Street)",inputHandler:e.inputHandler,type:"textarea",style:{height:"60px"}})),r.a.createElement("div",{className:"Row"},r.a.createElement("div",{style:{width:"49%"}},r.a.createElement(ie,{name:"cityDistrictTown",value:t.cityDistrictTown,placeholder:"City/District/Town",inputHandler:e.inputHandler,type:"text"})),r.a.createElement("div",{style:{width:"49%"}},r.a.createElement(ie,{name:"state",value:t.state,placeholder:"State",inputHandler:e.inputHandler,type:"text"}))),r.a.createElement("div",{className:"Row"},r.a.createElement("div",{style:{width:"49%"}},r.a.createElement(ie,{name:"landmark",value:t.landmark,placeholder:"Landmark (Optional)",inputHandler:e.inputHandler,type:"text"})),r.a.createElement("div",{style:{width:"49%"}},r.a.createElement(ie,{name:"alternatePhoneNumber",value:t.alternateNumber,placeholder:"Alternate Phone (Optional)",inputHandler:e.inputHandler,type:"text"}))),r.a.createElement("div",{className:"Row"},r.a.createElement("button",{className:"DeliveryAddressButton"},"SAVE AND DELIVER HERE")))},me=(a(72),a(73),function(e){return r.a.createElement("label",{className:"RadioButton"},e.label,r.a.createElement("input",{onChange:e.onChange,type:"radio",name:e.name,value:e.value}),r.a.createElement("span",{className:"Checkmark"}))}),de=function(e){var t=e.address;return r.a.createElement("div",{style:{margin:"10px 0"}},r.a.createElement("div",{className:"AddressSelection",key:t._id},r.a.createElement(me,{name:"address",label:"",value:t._id,onChange:e.onAddressSelection}),r.a.createElement("div",null,r.a.createElement("p",{className:"AddressAuthor"},t.fullName," ",t.mobileNumber),r.a.createElement("p",{className:"AuthorAddress"},t.address,", ",t.cityDistrictTown,", ",t.state," - ",t.pinCode))))},pe=function(e){Object(p.a)(a,e);var t=Object(h.a)(a);function a(){var e;Object(m.a)(this,a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).state={addresses:[],address:{fullName:"",mobileNumber:"",pinCode:"",locality:"",address:"",cityDistrictTown:"",state:"",landmark:"",alternatePhoneNumber:""},order:[],selectedAddress:"",existingAddress:!1,newAddress:!1,isAddressConfirm:!1,isOrderConfirm:!1,selectedPaymentType:"cod",paymentTypes:[{id:1,value:"cod",label:"Cash on Delivery",isActive:!0}]},e.getAddresses=function(){var t=e.props.auth.user.userId;fetch("".concat(y,"/user/get-addresses/")+t,{headers:{"auth-token":e.props.auth.token}}).then((function(e){if(200==e.status)return e.json();throw new Error("Something went wrong")})).then((function(t){console.log(t),e.setState({addresses:t.message.address})})).catch((function(e){console.log(e)}))},e.inputHandler=function(t){var a=e.state.address,n=Object(U.a)({},a,Object(_.a)({},t.target.name,t.target.value));e.setState({address:n})},e.addressSelector=function(t){e.setState({selectedAddress:t.target.value,existingAddress:!0,newAddress:!1})},e.newAddressSelection=function(t){e.setState({selectedAddress:"newAddressId",existingAddress:!1,newAddress:!0})},e.addressSubmitHandler=function(t){t.preventDefault(),console.log(e.state.address);var a={userId:e.props.auth.user.userId,address:e.state.address};fetch("".concat(y,"/user/new-address"),{headers:{"Content-Type":"application/json","auth-token":e.props.auth.token},method:"POST",body:JSON.stringify(a)}).then((function(e){return e.json()})).then((function(t){console.log("new address"),console.log(t),console.log("new address");var n=t.message.address;e.setState({isAddressConfirm:!0,address:Object(U.a)({},e.state.address,{},a.address),addresses:n,selectedAddress:n[n.length-1]._id})})).catch((function(e){console.log(e)}))},e.confirmDeliveryAddress=function(){e.setState({isAddressConfirm:!0})},e.confirmOrder=function(){e.setState({isOrderConfirm:!0})},e.selectPaymentOption=function(t){e.setState({selectedPaymentType:t.target.value})},e.submitOrder=Object(v.a)(g.a.mark((function t(){var a,n,r;return g.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e.state.isOrderConfirm){t.next=2;break}return t.abrupt("return");case 2:if("cod"===e.state.selectedPaymentType){t.next=4;break}return t.abrupt("return");case 4:return a=e.props.cart.cartItem.map((function(e){return{product:e.product,price:e.price,quantity:e.quantity}})),t.prev=5,t.next=8,fetch("".concat(y,"/order/create"),{headers:{"Content-Type":"application/json","auth-token":e.props.auth.token},body:JSON.stringify({user:e.props.auth.user.userId,address:e.state.selectedAddress,order:a,paymentType:"COD",paymentStatus:"pending"}),method:"POST"});case 8:return n=t.sent,t.next=11,n.json();case 11:r=t.sent,201===n.status&&(e.props.clearCart(),e.props.history.push({pathname:"/thank-you",search:"?orderid="+r.message._id,state:r.message})),t.next=18;break;case 15:t.prev=15,t.t0=t.catch(5),console.log(t.t0);case 18:case"end":return t.stop()}}),t,null,[[5,15]])}))),e}return Object(d.a)(a,[{key:"componentDidMount",value:function(){var e=this;this.props.auth.isAuthenticated?this.getAddresses():this.props.getToken().then((function(t){t?e.getAddresses():e.props.history.push("/login")})).catch((function(e){console.log(e)}))}},{key:"render",value:function(){var e,t=this;return e=this.state.isAddressConfirm&&!this.state.newAddress?this.state.addresses.find((function(e){return e._id===t.state.selectedAddress})):this.state.address,r.a.createElement(r.a.Fragment,null,r.a.createElement(S,null),r.a.createElement("div",{className:"Content"},r.a.createElement("div",{className:"PlaceOrderWrapper"},r.a.createElement("div",{className:"DeliveryAddress"},r.a.createElement("div",{className:"Card"},r.a.createElement("p",{className:"CardText"},"Login ",this.props.auth.isAuthenticated?r.a.createElement("i",{className:"fas fa-check"}):null),r.a.createElement("p",{className:"CardText"},"Email: ",this.props.auth.user.email)),this.state.isAddressConfirm?r.a.createElement("div",{className:"Card"},r.a.createElement("p",{className:"CardText"},"Delivery Address ",this.state.isAddressConfirm?r.a.createElement("i",{className:"fas fa-check"}):null),r.a.createElement("p",null,r.a.createElement("span",null,"".concat(e.fullName," - ").concat(e.mobileNumber," - ")),r.a.createElement("span",null,"".concat(e.address,", ").concat(e.cityDistrictTown,", ").concat(e.state," - ").concat(e.pinCode)))):r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"Card"},r.a.createElement("h4",null,"Delivery Address"),this.state.addresses.length&&this.state.addresses.map((function(e){return r.a.createElement(de,{key:e._id,onAddressSelection:t.addressSelector,value:t.state.selectedAddress,address:e})})),this.state.existingAddress?r.a.createElement("div",{className:"DeliveryButtonContainer"},r.a.createElement("button",{onClick:this.confirmDeliveryAddress,className:"DeliveryAddressButton"},"Deliver Here")):null),r.a.createElement("div",{className:"Card"},r.a.createElement("div",null,r.a.createElement(me,{name:"address",label:"Add new Address",value:this.state.selectedAddress,onChange:this.newAddressSelection})),this.state.newAddress?r.a.createElement(ue,{address:this.state.address,inputHandler:this.inputHandler,addressSubmitHandler:this.addressSubmitHandler}):null)),this.state.isOrderConfirm?r.a.createElement("div",{className:"Card"},r.a.createElement("p",{className:"CardText"},"Order Summary ",r.a.createElement("i",{className:"fas fa-check"})," ")):this.state.isAddressConfirm?r.a.createElement("div",{className:"Card"},r.a.createElement("h4",{className:"CardText"},"Order Summary "),this.props.cart.cartItem.map((function(e){return r.a.createElement("div",{key:e.product,style:{display:"flex",margin:"5px 0",alignItems:"center"}},r.a.createElement("div",{style:{width:"60px",height:"60px",overflow:"hidden",position:"relative"}},r.a.createElement("img",{style:{maxWidth:"100%",maxHeight:"100%",position:"absolute",left:"50%",transform:"translateX(-50%)"},src:e.image,alt:""})),r.a.createElement("div",null,r.a.createElement("h5",null,e.name),r.a.createElement("h6",null,"Quantity : ",e.quantity),r.a.createElement("h6",null,"$",e.total)))})),r.a.createElement("button",{onClick:this.confirmOrder,className:"ContinueButton"},"Continue")):null,this.state.isOrderConfirm?r.a.createElement("div",{className:"Card"},r.a.createElement("h4",{className:"CardText"},"Payment Option"),r.a.createElement("ul",null,this.state.paymentTypes.map((function(e){return r.a.createElement("li",{className:"paymentType",key:e.id},r.a.createElement(me,{key:e.id,name:"paymentType",label:e.label,value:e.value,onChange:t.selectPaymentOption}))}))),"cod"!==this.state.selectedPaymentType?r.a.createElement("p",{className:"ErrorMessage"},"Sorry, Only Cash on Delivery is available"):null,r.a.createElement("button",{className:"PaymentConfirm",onClick:this.submitOrder},"Confirm Order")):null),r.a.createElement(ne,null))))}}]),a}(n.Component),he=Object(b.b)((function(e){return{auth:e.auth,cart:e.cart}}),(function(e){return{getToken:function(){return e(w())},clearCart:function(){return e((function(e){e({type:"CLEAR_CART",payload:null})}))}}}))(pe),fe=(a(74),function(e){Object(p.a)(a,e);var t=Object(h.a)(a);function a(){return Object(m.a)(this,a),t.apply(this,arguments)}return Object(d.a)(a,[{key:"render",value:function(){var e=this.props.location.search.split("?")[1].split("=")[1];return r.a.createElement("div",null,r.a.createElement(S,null),r.a.createElement("div",{className:"Content"},r.a.createElement("div",{className:"ThankyouPage"},r.a.createElement("h1",null,"Thank you for your order"),r.a.createElement("p",{className:"OrderId"},"Order id is: ",e.toLocaleUpperCase()),r.a.createElement("p",{className:"SmallText"},"You will receive an email confirmation shortly at email@gmail.com"))))}}]),a}(n.Component)),Ee=(a(75),function(e){Object(p.a)(a,e);var t=Object(h.a)(a);function a(){var e;Object(m.a)(this,a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).state={ordersList:[]},e.getOrders=function(){console.log(e.props.auth.isAuthenticated);var t=e.props.auth.token,a=e.props.auth.user.userId;fetch("".concat(y,"/order/getorders/").concat(a),{headers:{"Content-Type":"application/json","auth-token":t}}).then((function(e){return e.json()})).then((function(t){console.log(t),e.setState({ordersList:t.message})})).catch((function(e){console.log(e)}))},e.formatDate=function(e){var t=new Date(e);return"".concat(t.getDate(),"/").concat(t.getMonth()+1,"/").concat(t.getFullYear())},e.getOrderTotal=function(t){var a=e.state.ordersList.find((function(e){return e._id===t})),n=0;return a.order.forEach((function(e){n+=e.price*e.quantity})),n},e}return Object(d.a)(a,[{key:"componentDidMount",value:function(){var e=this;this.props.auth.isAuthenticated?this.getOrders():this.props.getToken().then((function(t){t?e.getOrders():e.props.history.push("/login")}))}},{key:"render",value:function(){var e=this;return r.a.createElement(r.a.Fragment,null,r.a.createElement(S,null),r.a.createElement("div",{className:"Content"},r.a.createElement("div",{className:"Card"},r.a.createElement("p",{className:"CardText"},"My Orders"),this.state.ordersList.map((function(t){return r.a.createElement("div",{key:t._id,className:"Order"},r.a.createElement("div",{className:"OrderHeader"},r.a.createElement("a",{href:"#"},t._id)),r.a.createElement("div",{className:"OrderDescription"},r.a.createElement("div",{className:"od1"},r.a.createElement("p",{className:"odtitle"},"Delivered Address"),r.a.createElement("p",null,"".concat(t.address.address," ").concat(t.address.cityDistrictTown," ").concat(t.address.state," - ").concat(t.address.pinCode))),r.a.createElement("div",{className:"od2"},r.a.createElement("p",{className:"odtitle"},"Payment Type"),r.a.createElement("a",{className:"odp"},t.paymentType)),r.a.createElement("div",{className:"od3"},r.a.createElement("p",{className:"odtitle"},"Payment Status"),r.a.createElement("a",{className:"odp"},t.paymentStatus))),r.a.createElement("div",null,t.order.map((function(e){return r.a.createElement("div",{key:e._id,style:{display:"flex",alignItems:"center",margin:"5px 0",borderBottom:"1px solid #cecece"}},r.a.createElement("div",{style:{width:"80px",height:"80px",overflow:"hidden",position:"relative"},className:"ImageContainer"},r.a.createElement("img",{style:{maxWidth:"100%",maxHeight:"100%",position:"absolute",left:"50%",transform:"translateX(-50%)"},src:e.product.productPic[0].img})),r.a.createElement("div",null,r.a.createElement("p",{className:"odtitle"},e.product.name),r.a.createElement("div",{style:{fontSize:"14px",color:"#555",fontWeight:"bold"}},r.a.createElement("p",null,"Quantity: ",e.quantity),r.a.createElement("p",null,"$",e.price*e.quantity))))}))),r.a.createElement("div",{className:"OrderFooter"},r.a.createElement("p",null,"Ordered On ",r.a.createElement("span",null,e.formatDate(t.orderDate))),r.a.createElement("p",null,"Order Total ",r.a.createElement("span",null,"$",e.getOrderTotal(t._id)))))})))))}}]),a}(n.Component)),ge=Object(b.b)((function(e){return{auth:e.auth}}),(function(e){return{getToken:function(){return e(w())}}}))(Ee),ve=(n.Component,Object(G.c)({auth:V,products:Y,cart:oe})),ye=Object(G.d)(ve,Object(G.a)(J.a));window.store=ye;var be=function(){return r.a.createElement(b.a,{store:ye},r.a.createElement(l.a,null,r.a.createElement("div",{className:"App"},r.a.createElement(o.d,null,r.a.createElement(o.b,{path:"/login",component:Q}),r.a.createElement(o.b,{path:"/signup",component:z}),r.a.createElement(o.b,{path:"/cpanel",component:$}),r.a.createElement(o.b,{path:"/products/:category/:slug",component:ee}),r.a.createElement(o.b,{path:"/products",component:R}),r.a.createElement(u,{path:"/cart",component:ce}),r.a.createElement(u,{path:"/place-order",component:he}),r.a.createElement(u,{path:"/thank-you",component:fe}),r.a.createElement(u,{path:"/orders",component:ge}),r.a.createElement(o.b,{path:"/",component:R})))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.render(r.a.createElement(be,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}]),[[37,1,2]]]);
//# sourceMappingURL=main.9c1a0f99.chunk.js.map