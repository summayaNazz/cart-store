{"ast":null,"code":"import _regeneratorRuntime from\"E:\\\\mongoDb\\\\store\\\\baali-store\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/regenerator\";import _asyncToGenerator from\"E:\\\\mongoDb\\\\store\\\\baali-store\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/asyncToGenerator\";import{base_url}from\"../../constants\";export var GET_PRODUCTS='GET_PRODUCTS';export var GET_PRODUCT_CATEGORIES='GET_PRODUCT_CATEGORIES';export var getProducts=function getProducts(){var categorySlug=arguments.length>0&&arguments[0]!==undefined?arguments[0]:'';var filter=arguments.length>1?arguments[1]:undefined;return/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(dispatch){var query,prop,response,jsonResponse;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;categorySlug=categorySlug=='all'?'':categorySlug;query='';if(filter){query='?filter=1&';for(prop in filter){query+=\"\".concat(prop,\"=\").concat(filter[prop],\"&\");}query=query.substring(0,query.length-1);}_context.next=6;return fetch(\"\".concat(base_url,\"/products/\").concat(categorySlug).concat(query));case 6:response=_context.sent;_context.next=9;return response.json();case 9:jsonResponse=_context.sent;if(response.status==200){dispatch({type:GET_PRODUCTS,products:jsonResponse.message});}return _context.abrupt(\"return\",jsonResponse);case 14:_context.prev=14;_context.t0=_context[\"catch\"](0);console.log(_context.t0);case 17:case\"end\":return _context.stop();}}},_callee,null,[[0,14]]);}));return function(_x){return _ref.apply(this,arguments);};}();};export var getCategories=function getCategories(){return function(dispatch){fetch(\"\".concat(base_url,\"/category\"),{headers:{'Content-Type':'application/json'}}).then(function(response){return response.json();}).then(function(jsonResponse){dispatch({type:GET_PRODUCT_CATEGORIES,categories:jsonResponse.message});}).catch(function(error){console.log(error);});};};export var getSingleProduct=function getSingleProduct(productSlug){return/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(dispatch){var response,jsonResponse;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.prev=0;_context2.next=3;return fetch(\"\".concat(base_url,\"/products/category/\").concat(productSlug));case 3:response=_context2.sent;_context2.next=6;return response.json();case 6:jsonResponse=_context2.sent;if(response.status===200){}_context2.next=13;break;case 10:_context2.prev=10;_context2.t0=_context2[\"catch\"](0);console.log(_context2.t0);case 13:case\"end\":return _context2.stop();}}},_callee2,null,[[0,10]]);}));return function(_x2){return _ref2.apply(this,arguments);};}();};","map":{"version":3,"sources":["E:/mongoDb/store/baali-store/client/src/store/actions/productActions.js"],"names":["base_url","GET_PRODUCTS","GET_PRODUCT_CATEGORIES","getProducts","categorySlug","filter","dispatch","query","prop","substring","length","fetch","response","json","jsonResponse","status","type","products","message","console","log","getCategories","headers","then","categories","catch","error","getSingleProduct","productSlug"],"mappings":"mUAAA,OAASA,QAAT,KAAyB,iBAAzB,CAEA,MAAO,IAAMC,CAAAA,YAAY,CAAG,cAArB,CACP,MAAO,IAAMC,CAAAA,sBAAsB,CAAG,wBAA/B,CAEP,MAAO,IAAMC,CAAAA,WAAW,CAAG,QAAdA,CAAAA,WAAc,EAA+B,IAA9BC,CAAAA,YAA8B,2DAAf,EAAe,IAAXC,CAAAA,MAAW,2CACtD,+FAAO,iBAAMC,QAAN,uKAICF,YAAY,CAAIA,YAAY,EAAI,KAAjB,CAA0B,EAA1B,CAA+BA,YAA9C,CAEIG,KANL,CAMa,EANb,CAOC,GAAGF,MAAH,CAAU,CACNE,KAAK,CAAG,YAAR,CACA,IAAQC,IAAR,GAAgBH,CAAAA,MAAhB,CAAuB,CACnBE,KAAK,YAAOC,IAAP,aAAeH,MAAM,CAACG,IAAD,CAArB,KAAL,CACH,CACDD,KAAK,CAAGA,KAAK,CAACE,SAAN,CAAgB,CAAhB,CAAmBF,KAAK,CAACG,MAAN,CAAa,CAAhC,CAAR,CACH,CAbF,sBAewBC,CAAAA,KAAK,WAAIX,QAAJ,sBAAyBI,YAAzB,SAAwCG,KAAxC,EAf7B,QAeOK,QAfP,qCAgB4BA,CAAAA,QAAQ,CAACC,IAAT,EAhB5B,QAgBOC,YAhBP,eAiBC,GAAGF,QAAQ,CAACG,MAAT,EAAmB,GAAtB,CAA0B,CACtBT,QAAQ,CAAC,CACLU,IAAI,CAAEf,YADD,CAELgB,QAAQ,CAAEH,YAAY,CAACI,OAFlB,CAAD,CAAR,CAIH,CAtBF,gCAwBQJ,YAxBR,4DA2BCK,OAAO,CAACC,GAAR,cA3BD,qEAAP,+DA+BH,CAhCM,CAkCP,MAAO,IAAMC,CAAAA,aAAa,CAAG,QAAhBA,CAAAA,aAAgB,EAAM,CAC/B,MAAO,UAAAf,QAAQ,CAAI,CACfK,KAAK,WAAIX,QAAJ,cAAyB,CAC1BsB,OAAO,CAAE,CACL,eAAiB,kBADZ,CADiB,CAAzB,CAAL,CAKCC,IALD,CAKM,SAAAX,QAAQ,QAAIA,CAAAA,QAAQ,CAACC,IAAT,EAAJ,EALd,EAMCU,IAND,CAMM,SAAAT,YAAY,CAAI,CAClBR,QAAQ,CAAC,CACLU,IAAI,CAAEd,sBADD,CAELsB,UAAU,CAAEV,YAAY,CAACI,OAFpB,CAAD,CAAR,CAIH,CAXD,EAYCO,KAZD,CAYO,SAAAC,KAAK,CAAI,CACZP,OAAO,CAACC,GAAR,CAAYM,KAAZ,EACH,CAdD,EAeH,CAhBD,CAiBH,CAlBM,CAoBP,MAAO,IAAMC,CAAAA,gBAAgB,CAAG,QAAnBA,CAAAA,gBAAmB,CAACC,WAAD,CAAiB,CAC7C,gGAAO,kBAAMtB,QAAN,wLAGwBK,CAAAA,KAAK,WAAIX,QAAJ,+BAAkC4B,WAAlC,EAH7B,QAGOhB,QAHP,uCAI4BA,CAAAA,QAAQ,CAACC,IAAT,EAJ5B,QAIOC,YAJP,gBAKC,GAAGF,QAAQ,CAACG,MAAT,GAAoB,GAAvB,CAA2B,CAI1B,CATF,qFAaCI,OAAO,CAACC,GAAR,eAbD,uEAAP,iEAgBH,CAjBM","sourcesContent":["import { base_url } from \"../../constants\";\r\n\r\nexport const GET_PRODUCTS = 'GET_PRODUCTS';\r\nexport const GET_PRODUCT_CATEGORIES = 'GET_PRODUCT_CATEGORIES';\r\n\r\nexport const getProducts = (categorySlug = '', filter) => {\r\n    return async dispatch => {\r\n\r\n        try{\r\n\r\n            categorySlug = (categorySlug == 'all') ? '' : categorySlug;\r\n\r\n            let query = '';\r\n            if(filter){\r\n                query = '?filter=1&'\r\n                for(let prop in filter){\r\n                    query += `${prop}=${filter[prop]}&`\r\n                }\r\n                query = query.substring(0, query.length-1);\r\n            }\r\n\r\n            const response = await fetch(`${base_url}/products/${categorySlug}${query}`);\r\n            const jsonResponse = await response.json();\r\n            if(response.status == 200){\r\n                dispatch({\r\n                    type: GET_PRODUCTS,\r\n                    products: jsonResponse.message\r\n                });\r\n            }\r\n\r\n            return jsonResponse;\r\n\r\n        }catch(error){\r\n            console.log(error);\r\n        }\r\n\r\n    }\r\n}\r\n\r\nexport const getCategories = () => {\r\n    return dispatch => {\r\n        fetch(`${base_url}/category`, {\r\n            headers: {\r\n                'Content-Type' : 'application/json'\r\n            }\r\n        })\r\n        .then(response => response.json())\r\n        .then(jsonResponse => {\r\n            dispatch({\r\n                type: GET_PRODUCT_CATEGORIES,\r\n                categories: jsonResponse.message\r\n            });\r\n        })\r\n        .catch(error => {\r\n            console.log(error);\r\n        });\r\n    }\r\n}\r\n\r\nexport const getSingleProduct = (productSlug) => {\r\n    return async dispatch => {\r\n        try{\r\n\r\n            const response = await fetch(`${base_url}/products/category/${productSlug}`);\r\n            const jsonResponse = await response.json();\r\n            if(response.status === 200){\r\n\r\n               \r\n\r\n            }\r\n\r\n\r\n        }catch(error){\r\n            console.log(error);\r\n        }\r\n    }\r\n}\r\n\r\n"]},"metadata":{},"sourceType":"module"}