{"ast":null,"code":"import _classCallCheck from\"E:\\\\mongoDb\\\\store\\\\baali-store\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";import _createClass from\"E:\\\\mongoDb\\\\store\\\\baali-store\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";import _inherits from\"E:\\\\mongoDb\\\\store\\\\baali-store\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";import _createSuper from\"E:\\\\mongoDb\\\\store\\\\baali-store\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createSuper\";import React,{Component}from'react';import'./style.css';import TopHeader from'./TopHeader/TopHeader';import MainHeader from'./MainHeader/MainHeader';import BottomHeader from'./BottomHeader/BottomHeader';import*as authActions from'../../store/actions/authActions';import*as cartActions from'../../store/actions/cartActions';import{connect}from'react-redux';var Header=/*#__PURE__*/function(_Component){_inherits(Header,_Component);var _super=_createSuper(Header);function Header(){var _this;_classCallCheck(this,Header);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super.call.apply(_super,[this].concat(args));_this.logout=function(){_this.props.logout();};return _this;}_createClass(Header,[{key:\"componentDidMount\",value:function componentDidMount(){var _this2=this;if(!this.props.auth.isAuthenticated){this.props.getToken().then(function(result){if(result){_this2.props.getCartItems(_this2.props.auth.token,_this2.props.auth.user.userId);}}).catch(function(error){console.log(error);});}}},{key:\"render\",value:function render(){var isAuthenticated=this.props.auth.isAuthenticated;var cart=this.props.cart;var cartCount=isAuthenticated?cart.cartCount:'';return/*#__PURE__*/React.createElement(\"header\",{className:\"Header\"},/*#__PURE__*/React.createElement(TopHeader,{logout:this.logout}),/*#__PURE__*/React.createElement(MainHeader,{cartCount:cartCount}),/*#__PURE__*/React.createElement(BottomHeader,null));}}]);return Header;}(Component);var mapStateToProps=function mapStateToProps(state){return{auth:state.auth,cart:state.cart};};var mapDispatchToProps=function mapDispatchToProps(dispatch){return{getToken:function getToken(){return dispatch(authActions.getToken());},getCartItems:function getCartItems(token,userId){return dispatch(cartActions.getCartItems(token,userId));},logout:function logout(){return dispatch(authActions.logout());}};};export default connect(mapStateToProps,mapDispatchToProps)(Header);","map":{"version":3,"sources":["E:/mongoDb/store/baali-store/client/src/components/Header/Header.js"],"names":["React","Component","TopHeader","MainHeader","BottomHeader","authActions","cartActions","connect","Header","logout","props","auth","isAuthenticated","getToken","then","result","getCartItems","token","user","userId","catch","error","console","log","cart","cartCount","mapStateToProps","state","mapDispatchToProps","dispatch"],"mappings":"4nBAAA,MAAOA,CAAAA,KAAP,EAAgBC,SAAhB,KAAiC,OAAjC,CACA,MAAO,aAAP,CACA,MAAOC,CAAAA,SAAP,KAAsB,uBAAtB,CACA,MAAOC,CAAAA,UAAP,KAAuB,yBAAvB,CACA,MAAOC,CAAAA,YAAP,KAAyB,6BAAzB,CACA,MAAO,GAAKC,CAAAA,WAAZ,KAA6B,iCAA7B,CACA,MAAO,GAAKC,CAAAA,WAAZ,KAA6B,iCAA7B,CACA,OAASC,OAAT,KAAwB,aAAxB,C,GAEMC,CAAAA,M,2TAkBFC,M,CAAS,UAAM,CACX,MAAKC,KAAL,CAAWD,MAAX,GACH,C,+FAlBmB,iBAChB,GAAG,CAAC,KAAKC,KAAL,CAAWC,IAAX,CAAgBC,eAApB,CAAoC,CAChC,KAAKF,KAAL,CAAWG,QAAX,GACCC,IADD,CACM,SAAAC,MAAM,CAAI,CAEZ,GAAGA,MAAH,CAAU,CACN,MAAI,CAACL,KAAL,CAAWM,YAAX,CAAwB,MAAI,CAACN,KAAL,CAAWC,IAAX,CAAgBM,KAAxC,CAA+C,MAAI,CAACP,KAAL,CAAWC,IAAX,CAAgBO,IAAhB,CAAqBC,MAApE,EACH,CAEJ,CAPD,EAQCC,KARD,CAQO,SAAAC,KAAK,CAAI,CACZC,OAAO,CAACC,GAAR,CAAYF,KAAZ,EACH,CAVD,EAWH,CACJ,C,uCAMQ,IACET,CAAAA,eADF,CACqB,KAAKF,KAAL,CAAWC,IADhC,CACEC,eADF,IAEEY,CAAAA,IAFF,CAEU,KAAKd,KAFf,CAEEc,IAFF,CAGN,GAAMC,CAAAA,SAAS,CAAGb,eAAe,CAAGY,IAAI,CAACC,SAAR,CAAoB,EAArD,CAEC,mBACI,8BAAQ,SAAS,CAAC,QAAlB,eACI,oBAAC,SAAD,EAAW,MAAM,CAAE,KAAKhB,MAAxB,EADJ,cAEK,oBAAC,UAAD,EAAY,SAAS,CAAEgB,SAAvB,EAFL,cAGI,oBAAC,YAAD,MAHJ,CADJ,CAOH,C,oBAlCgBxB,S,EAsCrB,GAAMyB,CAAAA,eAAe,CAAG,QAAlBA,CAAAA,eAAkB,CAAAC,KAAK,CAAI,CAC7B,MAAO,CACHhB,IAAI,CAAEgB,KAAK,CAAChB,IADT,CAEHa,IAAI,CAAEG,KAAK,CAACH,IAFT,CAAP,CAIH,CALD,CAOA,GAAMI,CAAAA,kBAAkB,CAAG,QAArBA,CAAAA,kBAAqB,CAAAC,QAAQ,CAAI,CACnC,MAAO,CACJhB,QAAQ,CAAE,0BAAMgB,CAAAA,QAAQ,CAACxB,WAAW,CAACQ,QAAZ,EAAD,CAAd,EADN,CAEJG,YAAY,CAAE,sBAACC,KAAD,CAAQE,MAAR,QAAmBU,CAAAA,QAAQ,CAACvB,WAAW,CAACU,YAAZ,CAAyBC,KAAzB,CAAgCE,MAAhC,CAAD,CAA3B,EAFV,CAGJV,MAAM,CAAE,wBAAMoB,CAAAA,QAAQ,CAACxB,WAAW,CAACI,MAAZ,EAAD,CAAd,EAHJ,CAAP,CAKH,CAND,CAQA,cAAeF,CAAAA,OAAO,CAACmB,eAAD,CAAkBE,kBAAlB,CAAP,CAA6CpB,MAA7C,CAAf","sourcesContent":["import React, { Component } from 'react';\r\nimport './style.css';\r\nimport TopHeader from './TopHeader/TopHeader';\r\nimport MainHeader from './MainHeader/MainHeader';\r\nimport BottomHeader from './BottomHeader/BottomHeader';\r\nimport * as authActions from '../../store/actions/authActions';\r\nimport * as cartActions from '../../store/actions/cartActions';\r\nimport { connect } from 'react-redux';\r\n\r\nclass Header extends Component {\r\n\r\n    componentDidMount() {\r\n        if(!this.props.auth.isAuthenticated){\r\n            this.props.getToken()\r\n            .then(result => {\r\n\r\n                if(result){\r\n                    this.props.getCartItems(this.props.auth.token, this.props.auth.user.userId)\r\n                }\r\n\r\n            })\r\n            .catch(error => {\r\n                console.log(error);\r\n            })\r\n        }\r\n    }\r\n\r\n    logout = () => {\r\n        this.props.logout();\r\n    }\r\n\r\n    render() {\r\n        const {isAuthenticated} = this.props.auth;\r\n        const {cart} = this.props;\r\n       const cartCount = isAuthenticated ? cart.cartCount : '';\r\n\r\n        return (\r\n            <header className=\"Header\">\r\n                <TopHeader logout={this.logout} />\r\n                 <MainHeader cartCount={cartCount} />\r\n                <BottomHeader />\r\n            </header>\r\n        );\r\n    }\r\n    \r\n}\r\n\r\nconst mapStateToProps = state => {\r\n    return {\r\n        auth: state.auth,\r\n        cart: state.cart\r\n    }\r\n}\r\n\r\nconst mapDispatchToProps = dispatch => {\r\n    return {\r\n       getToken: () => dispatch(authActions.getToken()),\r\n       getCartItems: (token, userId) => dispatch(cartActions.getCartItems(token, userId)),\r\n       logout: () => dispatch(authActions.logout())\r\n    }\r\n}\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(Header);"]},"metadata":{},"sourceType":"module"}