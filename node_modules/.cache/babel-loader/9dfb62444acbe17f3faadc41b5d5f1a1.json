{"ast":null,"code":"import _createForOfIteratorHelper from\"E:\\\\mongoDb\\\\store\\\\baali-store\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createForOfIteratorHelper\";import _classCallCheck from\"E:\\\\mongoDb\\\\store\\\\baali-store\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";import _createClass from\"E:\\\\mongoDb\\\\store\\\\baali-store\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";import _inherits from\"E:\\\\mongoDb\\\\store\\\\baali-store\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";import _createSuper from\"E:\\\\mongoDb\\\\store\\\\baali-store\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createSuper\";import React,{Component}from'react';import{Link}from'react-router-dom';import*as productActions from'../../../store/actions/productActions';import{connect}from'react-redux';import'./style.css';import Product from'./Product';var Products=/*#__PURE__*/function(_Component){_inherits(Products,_Component);var _super=_createSuper(Products);function Products(){var _this;_classCallCheck(this,Products);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super.call.apply(_super,[this].concat(args));_this.state={slug:'Products'};_this.getProducts=function(){var categorySlug=arguments.length>0&&arguments[0]!==undefined?arguments[0]:'';var filter=arguments.length>1&&arguments[1]!==undefined?arguments[1]:null;_this.props.getProducts(categorySlug,filter).then(function(response){console.log(response);// this.setState({\n//     products: response.message\n// })\n});};_this.applyFilter=function(filter){var slug=_this.props.match.params.slug=='all'?'':_this.props.match.params.slug;_this.getProducts(slug,filter);};return _this;}_createClass(Products,[{key:\"componentDidMount\",value:function componentDidMount(){var slug=this.props.match.params.slug=='all'?'':this.props.match.params.slug;this.getProducts(slug);this.props.getCategories();}},{key:\"componentDidUpdate\",value:function componentDidUpdate(prevProps){if(this.props.match.params.slug!=prevProps.match.params.slug){this.getProducts(this.props.match.params.slug);}}},{key:\"categoryTree\",value:function categoryTree(categories){var categoriesAr=[];var _iterator=_createForOfIteratorHelper(categories),_step;try{for(_iterator.s();!(_step=_iterator.n()).done;){var value=_step.value;categoriesAr.push(/*#__PURE__*/React.createElement(\"li\",{key:value.slug},/*#__PURE__*/React.createElement(Link,{to:\"/products/\".concat(value.slug)},value.name),value.children.length>0?/*#__PURE__*/React.createElement(\"ul\",null,this.categoryTree(value.children)):null));}}catch(err){_iterator.e(err);}finally{_iterator.f();}return categoriesAr;}},{key:\"render\",value:function render(){var slug=Object.keys(this.props.match.params).length>0?this.props.match.params.slug:this.state.slug;return/*#__PURE__*/ (// <div className=\"Content\">\n//         <div className=\"ContentTitle\">\n//             <h2 className=\"CategoryTitle\">{slug}</h2>\n//         </div>\n//         <div className=\"ContentBody\">\n//             <div className=\"SideMenu\">\n//                 <h3 className=\"SideMenuTitle\">Filters</h3>\n//                 <div className=\"Filter\">\n//                     <p className=\"FilterTitle\">Categories</p>\n//                     <ul>\n//                         {\n//                             this.props.products.categories.length > 0 ? \n//                             this.categoryTree(this.props.products.categories) : null\n//                         }\n//                     </ul>\n//                 </div>\n//                <div className=\"Filter\">\n//                    <p className=\"FilterTitle\">Price</p>\n//                    <div>\n//                         <button onClick={() => this.applyFilter({price:1} )} className=\"FilterButton\">Low to High</button>\n//                    </div>\n//                    <div>\n//                         <button onClick={() => this.applyFilter({price: -1})} className=\"FilterButton\">High to Low</button>\n//                    </div>\n//                </div>\n//             </div>\nReact.createElement(\"div\",{className:\"Content\"},/*#__PURE__*/React.createElement(\"div\",{className:\"MainContent\"},/*#__PURE__*/React.createElement(\"div\",{className:\"ProductArea\"},this.props.products.products.map(function(product){return/*#__PURE__*/React.createElement(Product,{key:product._id,id:product._id,name:product.name,price:product.price,productPic:product.productPic,slug:product.slug});}))))// </div>\n);}}]);return Products;}(Component);var mapDispatchToProps=function mapDispatchToProps(dispatch){return{getProducts:function getProducts(categorySlug,filter){return dispatch(productActions.getProducts(categorySlug,filter));},getCategories:function getCategories(){return dispatch(productActions.getCategories());}};};var mapStateToProps=function mapStateToProps(state){return{products:state.products};};export default connect(mapStateToProps,mapDispatchToProps)(Products);","map":{"version":3,"sources":["E:/mongoDb/store/baali-store/client/src/components/ShopStore/Products/Products.js"],"names":["React","Component","Link","productActions","connect","Product","Products","state","slug","getProducts","categorySlug","filter","props","then","response","console","log","applyFilter","match","params","getCategories","prevProps","categories","categoriesAr","value","push","name","children","length","categoryTree","Object","keys","products","map","product","_id","price","productPic","mapDispatchToProps","dispatch","mapStateToProps"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport * as productActions from '../../../store/actions/productActions';\r\nimport { connect } from 'react-redux';\r\nimport './style.css';\r\nimport Product from './Product';\r\n\r\nclass Products extends Component{\r\n\r\n    state = {\r\n        slug: 'Products'\r\n    }\r\n\r\n    componentDidMount() {\r\n        const slug = this.props.match.params.slug == 'all' ? '' : this.props.match.params.slug\r\n        this.getProducts(slug);\r\n        this.props.getCategories();\r\n    }\r\n\r\n    getProducts = (categorySlug = '', filter = null) => {\r\n       \r\n        this.props.getProducts(categorySlug, filter)\r\n        .then(response => {\r\n\r\n            console.log(response);\r\n\r\n            // this.setState({\r\n            //     products: response.message\r\n            // })\r\n        });\r\n    }\r\n\r\n    componentDidUpdate(prevProps){\r\n        if(this.props.match.params.slug != prevProps.match.params.slug){\r\n            this.getProducts(this.props.match.params.slug);\r\n        }\r\n\r\n        \r\n    }\r\n\r\n    applyFilter = (filter) => {\r\n        const slug = this.props.match.params.slug == 'all' ? '' : this.props.match.params.slug\r\n        this.getProducts(slug, filter);\r\n    }\r\n\r\n    categoryTree(categories){\r\n        var categoriesAr = [];\r\n        for(var value of categories){\r\n\r\n            categoriesAr.push(\r\n                    <li key={value.slug}>\r\n                        <Link to={`/products/${value.slug}`}>{value.name}</Link>\r\n                        {value.children.length > 0 ? (<ul>{this.categoryTree(value.children)}</ul>) : null}\r\n                    </li>\r\n            );\r\n        }\r\n\r\n        return categoriesAr;\r\n    }\r\n\r\n    render() {\r\n\r\n        const slug = Object.keys(this.props.match.params).length > 0 ? this.props.match.params.slug : this.state.slug;\r\n\r\n        \r\n        \r\n        return (\r\n\r\n            // <div className=\"Content\">\r\n            //         <div className=\"ContentTitle\">\r\n            //             <h2 className=\"CategoryTitle\">{slug}</h2>\r\n            //         </div>\r\n            //         <div className=\"ContentBody\">\r\n            //             <div className=\"SideMenu\">\r\n            //                 <h3 className=\"SideMenuTitle\">Filters</h3>\r\n            //                 <div className=\"Filter\">\r\n            //                     <p className=\"FilterTitle\">Categories</p>\r\n            //                     <ul>\r\n            //                         {\r\n            //                             this.props.products.categories.length > 0 ? \r\n            //                             this.categoryTree(this.props.products.categories) : null\r\n            //                         }\r\n            //                     </ul>\r\n            //                 </div>\r\n                            \r\n            //                <div className=\"Filter\">\r\n            //                    <p className=\"FilterTitle\">Price</p>\r\n            //                    <div>\r\n            //                         <button onClick={() => this.applyFilter({price:1} )} className=\"FilterButton\">Low to High</button>\r\n            //                    </div>\r\n            //                    <div>\r\n            //                         <button onClick={() => this.applyFilter({price: -1})} className=\"FilterButton\">High to Low</button>\r\n            //                    </div>\r\n                               \r\n            //                </div>\r\n                       \r\n            //             </div>\r\n            <div className=\"Content\">\r\n                        <div className=\"MainContent\">\r\n\r\n                        <div className=\"ProductArea\">\r\n                            {\r\n                                this.props.products.products.map(product => <Product\r\n                                    key={product._id}\r\n                                    id={product._id}\r\n                                    name={product.name}\r\n                                    price={product.price}\r\n                                    productPic={product.productPic}\r\n                                    slug={product.slug}\r\n                                />)\r\n                            }\r\n                            \r\n                        </div>\r\n\r\n                            \r\n                        </div>\r\n\r\n                     </div>\r\n            // </div>\r\n    \r\n        );\r\n    }\r\n}\r\n\r\nconst mapDispatchToProps = dispatch => {\r\n    return {\r\n        getProducts: (categorySlug, filter) => dispatch(productActions.getProducts(categorySlug, filter)),\r\n        getCategories: () => dispatch(productActions.getCategories())\r\n    }\r\n}\r\n\r\nconst mapStateToProps = state => {\r\n    return {\r\n        products: state.products\r\n    }\r\n}\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(Products);"]},"metadata":{},"sourceType":"module"}