{"ast":null,"code":"import _defineProperty from\"E:\\\\mongoDb\\\\store\\\\baali-store\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/defineProperty\";import _classCallCheck from\"E:\\\\mongoDb\\\\store\\\\baali-store\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";import _createClass from\"E:\\\\mongoDb\\\\store\\\\baali-store\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";import _inherits from\"E:\\\\mongoDb\\\\store\\\\baali-store\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";import _createSuper from\"E:\\\\mongoDb\\\\store\\\\baali-store\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createSuper\";import React,{Component}from'react';//import axios from 'axios';\n//import { NotificationContainer, NotificationManager } from 'react-notifications';\nvar ResetPassword=/*#__PURE__*/function(_Component){_inherits(ResetPassword,_Component);var _super=_createSuper(ResetPassword);function ResetPassword(props){var _this;_classCallCheck(this,ResetPassword);_this=_super.call(this,props);_this.handleInput=function(e){e.preventDefault();var name=e.target.name;var value=e.target.value;_this.setState(_defineProperty({},name,value));};_this.handleForm=function(e){e.preventDefault();if(_this.state.email===''){//  NotificationManager.warning(\"Email is Required\");\nreturn false;}// const data = { email: this.state.email, };\n// console.log(data)\n// axios\n//     .post(\"http://localhost:2019/users/updatePassword\", this.state)\n//     .then(result => {\n//       //  NotificationManager.success(result.data.msg);\n//     })\n//     .catch(err => {\n//         if (err.response && err.response.status === 404)\n//             NotificationManager.error(err.response.data.msg);\n//         else\n//             NotificationManager.error(\"Something Went Wrong\");\n//         this.setState({ errors: err.response })\n//     });\n};_this.state={linkDate:\"\",email:\"\",password:\"\",confirm_password:\"\",errors:{}};return _this;}_createClass(ResetPassword,[{key:\"componentDidMount\",value:function componentDidMount(){var slugParam=this.props.match.params.slug;var splitSlug=slugParam.split(\"+++\");var reqDate=splitSlug[0];var email=splitSlug[1];console.log(reqDate);console.log(email);this.setState({email:email,linkDate:reqDate});var date1=new Date(reqDate);var currentDate=new Date();var differenceinMS=currentDate-date1;if(differenceinMS>3600000){//NotificationManager.error(\"Link Not Valid link will be valid for 15 min.Please sent the reset link Again\");\nthis.props.history.push(\"/login\");}}},{key:\"render\",value:function render(){return/*#__PURE__*/React.createElement(\"div\",{className:\"content\"},/*#__PURE__*/React.createElement(\"form\",{onSubmit:this.handleForm},/*#__PURE__*/React.createElement(\"div\",{className:\"row\",style:{marginTop:20}},/*#__PURE__*/React.createElement(\"div\",{className:\"col-sm-3\"}),/*#__PURE__*/React.createElement(\"div\",{className:\"col-sm-6\"},/*#__PURE__*/React.createElement(\"div\",{className:\"card\"},/*#__PURE__*/React.createElement(\"div\",{className:\"card-header text-center\"},\"Reset Password\"),/*#__PURE__*/React.createElement(\"div\",{className:\"card-body\"},/*#__PURE__*/React.createElement(\"div\",{className:\"form-group\"},/*#__PURE__*/React.createElement(\"label\",null,\"Password\"),/*#__PURE__*/React.createElement(\"input\",{type:\"password\",name:\"password\",value:this.state.password,onChange:this.handleInput,className:\"form-control\"})),/*#__PURE__*/React.createElement(\"div\",{className:\"form-group\"},/*#__PURE__*/React.createElement(\"label\",null,\"Confirm Password\"),/*#__PURE__*/React.createElement(\"input\",{type:\"password\",name:\"confirm_password\",value:this.state.confirm_password,onChange:this.handleInput,className:\"form-control\"}))),/*#__PURE__*/React.createElement(\"div\",{className:\"card-footer text-center\"},/*#__PURE__*/React.createElement(\"input\",{type:\"button\",value:\"Reset\",onClick:this.handleForm,className:\"btn btn-primary\"})))),/*#__PURE__*/React.createElement(\"div\",{className:\"col-sm-3\"}))));}}]);return ResetPassword;}(Component);export{ResetPassword as default};","map":{"version":3,"sources":["E:/mongoDb/store/baali-store/client/src/containers/resetPassword/resetPassword.js"],"names":["React","Component","ResetPassword","props","handleInput","e","preventDefault","name","target","value","setState","handleForm","state","email","linkDate","password","confirm_password","errors","slugParam","match","params","slug","splitSlug","split","reqDate","console","log","date1","Date","currentDate","differenceinMS","history","push","marginTop"],"mappings":"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","sourcesContent":["import React, { Component } from 'react'\r\n//import axios from 'axios';\r\n//import { NotificationContainer, NotificationManager } from 'react-notifications';\r\n\r\nexport default class ResetPassword extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = { linkDate:\"\",email:\"\",password: \"\",confirm_password: \"\", errors: {} };\r\n    }\r\n    componentDidMount() {\r\n        let slugParam = this.props.match.params.slug;\r\n        let splitSlug=slugParam.split(\"+++\");\r\n        let reqDate=splitSlug[0];\r\n        let email=splitSlug[1];\r\n        console.log(reqDate);\r\n        console.log(email);\r\n        this.setState({email:email,linkDate:reqDate});\r\n        let date1 = new Date(reqDate);\r\n        let currentDate = new Date();\r\n        let differenceinMS = currentDate - date1\r\n        if (differenceinMS > 3600000) {\r\n            //NotificationManager.error(\"Link Not Valid link will be valid for 15 min.Please sent the reset link Again\");\r\n            this.props.history.push(\"/login\");\r\n        }\r\n    }\r\n    handleInput = e => {\r\n        e.preventDefault();\r\n        const name = e.target.name;\r\n        const value = e.target.value;\r\n        this.setState({ [name]: value });\r\n    }\r\n    handleForm = e => {\r\n        e.preventDefault();\r\n        if (this.state.email === '') {\r\n         //  NotificationManager.warning(\"Email is Required\");\r\n            return false;\r\n        }\r\n        // const data = { email: this.state.email, };\r\n        // console.log(data)\r\n        // axios\r\n        //     .post(\"http://localhost:2019/users/updatePassword\", this.state)\r\n        //     .then(result => {\r\n        //       //  NotificationManager.success(result.data.msg);\r\n        //     })\r\n        //     .catch(err => {\r\n        //         if (err.response && err.response.status === 404)\r\n        //             NotificationManager.error(err.response.data.msg);\r\n        //         else\r\n        //             NotificationManager.error(\"Something Went Wrong\");\r\n        //         this.setState({ errors: err.response })\r\n        //     });\r\n\r\n    }\r\n    render() {\r\n        return (\r\n            <div className=\"content\">\r\n            \r\n                <form onSubmit={this.handleForm}>\r\n                    <div className=\"row\" style={{ marginTop: 20 }}>\r\n                        <div className=\"col-sm-3\"></div>\r\n                        <div className=\"col-sm-6\">\r\n                            <div className=\"card\">\r\n                                <div className=\"card-header text-center\">Reset Password</div>\r\n                                <div className=\"card-body\">\r\n                                    <div className=\"form-group\">\r\n                                        <label >Password</label>\r\n                                        <input type=\"password\" name=\"password\" value={this.state.password} onChange={this.handleInput} className=\"form-control\" />\r\n                                    </div>\r\n                                    <div className=\"form-group\">\r\n                                        <label >Confirm Password</label>\r\n                                        <input type=\"password\" name=\"confirm_password\" value={this.state.confirm_password} onChange={this.handleInput} className=\"form-control\" />\r\n                                    </div>\r\n                                </div>\r\n                                <div className=\"card-footer text-center\">\r\n                                    <input type=\"button\" value=\"Reset\" onClick={this.handleForm} className=\"btn btn-primary\" />\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                        <div className=\"col-sm-3\"></div>\r\n                    </div>\r\n                </form>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n"]},"metadata":{},"sourceType":"module"}